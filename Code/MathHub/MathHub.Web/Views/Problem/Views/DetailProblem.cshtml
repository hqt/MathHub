@model MathHub.Web.Models.ProblemVM.DetailProblemVM
@{
	ViewBag.Title = "DetailProblem";
	Layout = "~/Views/Problem/Layouts/_ProblemDetailLayout.cshtml";
}

<script type="text/javascript">
	$(document).ready(function () {
		// load comments
		getCommentAjax("problem-comments", @Model.Id, 0);
		// use jquery to make tabs
		$("#reply-tabs").tabs();
	});
</script>

<h2>Detail Problem:</h2>

@* problem detail *@
<ul>

	<li>Id: @Model.Id </li>

	<li>Content: @Model.Content </li>
	<li>DateCreated: @Model.DateCreated </li>
	<li>DateModified: @Model.DateModified </li>
	<li>UserId: @Model.UserId </li>
	<li>Title: @Model.Title </li>

	<li>VoteUpNum: @Model.PostVote.Item1</li>
	<li>VoteDownNum: @Model.PostVote.Item2 </li>
   
</ul>

<h3>Comments</h3>
@* ajax insert comment here to problem-comments *@
<div id="problem-comments"></div>

@*  function showCommentOnClick(showId, postId, formId, hideId) *@
@*  function showAndHideElementsById(showId, hideId) *@
@if(Model.PostReply.Item1 > 5)
{
	<button id="add-question-comment" onclick="showCommentOnClick('problem-comments', @Model.Id, 'comment-post-form', 'add-question-comment')">
		Add / Show @{int num = Model.PostReply.Item1 - 5; } @num more comments
	</button>
}else
{
	<button id="add-question-comment" onclick="showAndHideElementsById('comment-post-form', 'add-question-comment')">Add comments</button>
}

@*@Html.Hidden("commentNum", @Model.PostReply.Item1, new {id="commentNum"});*@
@Html.Partial("Partials/_CommentPostForm", Model.CommentPostVm)

@*<button onclick="getCommentAjax('problemComments',@Model.Id, -1)">View more comments</button>*@

@section RightPanel
{
	@Html.Action(MVC.CommonWidget.PostProblemWidget())
	<hr />
}
